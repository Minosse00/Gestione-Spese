<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Gestione Spese</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-light">
  <div class="container py-5">
    <h1 class="text-center mb-4">ğŸ’¸ Gestione Spese</h1>

    <!-- Input dati -->
    <div class="mb-3"><label for="data" class="form-label">Data</label><input type="date" id="data" class="form-control"></div>
    <div class="mb-3"><label for="entrate" class="form-label">Entrata (â‚¬)</label><input type="number" id="entrate" class="form-control"></div>
    <div class="mb-3"><label for="uscite" class="form-label">Uscita (â‚¬)</label><input type="number" id="uscite" class="form-control"></div>
    <div class="mb-3"><label for="note" class="form-label">Note</label><input type="text" id="note" class="form-control"></div>

    <!-- Scelta intervalli -->
    <input type="week" id="settimanaSelezionata" class="form-control my-2" placeholder="Seleziona settimana">
    <input type="month" id="meseSelezionato" class="form-control mb-3" placeholder="Seleziona mese">

    <!-- Pulsanti azione -->
    <div class="d-flex flex-wrap gap-2 mb-4">
      <button onclick="aggiungiSpesa()" class="btn btn-primary">â• Aggiungi Spesa</button>
      <button onclick="esportaExcel()" class="btn btn-success">ğŸ’¾ Export Excel (Tutti)</button>
      <button onclick="esportaPDF()" class="btn btn-danger">ğŸ–¨ï¸ Esporta PDF</button>
      <button onclick="esportaSettimana()" class="btn btn-info">ğŸ“† Excel: Settimana scelta</button>
      <button onclick="esportaMese()" class="btn btn-info">ğŸ“… Excel: Mese scelto</button>
      <button onclick="resetStorico()" class="btn btn-outline-danger">ğŸ§¹ Cancella Tutto</button>
    </div>

    <!-- Tabella da esportare -->
    <div id="sezione-tabella">
      <h4>Fondo Cassa: <span id="fondoCassaPDF" class="fw-bold">0.00</span> â‚¬</h4>
      <table class="table table-striped mt-4">
        <thead class="table-dark">
          <tr><th>Data</th><th>Entrate (â‚¬)</th><th>Uscite (â‚¬)</th><th>Note</th></tr>
        </thead>
        <tbody id="storico-body"></tbody>
      </table>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
